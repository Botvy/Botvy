import { Container } from 'inversify';

import { PluginFilterType } from '../PluginFilterType';
import { PluginManager } from '../PluginManager';

describe('PluginManager', () => {
    let container: Container;
    let pluginManager: PluginManager;

    beforeEach(() => {
        container = new Container();

        container.bind(PluginManager).toSelf();

        pluginManager = container.get(PluginManager);
    });

    afterEach(() => {
        container.unbindAll();
    });

    it('should be defined', () => {
        expect(PluginManager).toBeDefined();
        expect(pluginManager).toBeDefined();
    });

    describe('Plugin Management', () => {
        it('should load plugins', async () => {
            const plugins = await pluginManager.loadPlugins();

            expect(plugins).toHaveLength(0);
        });

        describe('Plugin Filter', () => {
            it('should return the current plugin array when the first parameter is undefined', async () => {
                const plugins = await pluginManager.getPlugins(undefined);

                expect(plugins).toHaveLength(0);
            });

            it('should return the current plugin array when the first parameter is set to PluginFilterType.All ', async () => {
                const plugins = await pluginManager.getPlugins(
                    PluginFilterType.ALL,
                );

                expect(plugins).toHaveLength(0);
            });

            it('should return the current plugin array when the first parameter is set to PluginFilterType.Active ', async () => {
                const plugins = await pluginManager.getPlugins(
                    PluginFilterType.ACTIVE,
                );

                expect(plugins).toHaveLength(0);
            });

            it('should return the current plugin array when the first parameter is set to PluginFilterType.Inactive ', async () => {
                const plugins = await pluginManager.getPlugins(
                    PluginFilterType.INACTIVE,
                );

                expect(plugins).toHaveLength(0);
            });
        });

        describe('Repository functions', () => {
            it('should be able to add new plugins', async () => {
                pluginManager.addPlugin({});

                const plugins = await pluginManager.getPlugins(
                    PluginFilterType.INACTIVE,
                );

                expect(plugins).toHaveLength(1);
            });

            describe('Modifying plugins', () => {
                it("should modify a plugin by it's ID", () => {});

                it("should modify a plugin by it's name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ", () => {});
            });

            describe('Removing plugins', () => {});

            it('should be able to remove new plugins', () => {});
        });
    });
});
